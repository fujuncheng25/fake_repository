<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>流浪猫公益项目 - CATalist</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>流浪猫公益项目</h1>
            <nav>
                <ul>
                    <li><a href="#home">首页</a></li>
                    <li><a href="/about">关于我们</a></li>
                    <li><a href="#cats">猫咪信息</a></li>
                    <li><a href="/messages">消息中心</a></li>
                    <li><a href="/contact">联系我们</a></li>
                </ul>
            </nav>
            <div class="auth-buttons">
                <button id="uploadCatBtn" style="display: none;">上传猫咪</button>
                <button id="adminBtn" style="display: none;">管理控制台</button>
                <button id="loginBtn">登录</button>
                <button id="registerBtn">注册</button>
            </div>
        </div>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="container">
                <h2 id="home-intro-title">关爱流浪猫，共建温暖社区</h2>
                <p id="home-intro-content">我们致力于救助和照顾流浪猫，为它们寻找温暖的家。</p>
                <button id="joinUsBtn">加入我们</button>
            </div>
        </section>

        <section id="about">
            <div class="container">
                <h2>关于我们</h2>
                <p>流浪猫公益项目是一个致力于救助、照顾和为流浪猫寻找新家的公益组织。</p>
            </div>
        </section>

        <section id="cats">
            <div class="container">
                <h2>猫咪信息</h2>
                <div class="cat-list">
                    <!-- 猫咪信息将通过JavaScript动态加载 -->
                </div>
            </div>
        </section>

        <section id="recognition" class="recognition-section">
            <div class="container">
                <h2>猫脸识别</h2>
                <p class="recognition-intro">拍摄或上传猫咪照片，我们会尝试匹配数据库中已记录的猫咪档案，帮助您快速了解它的身份信息。</p>
                <div class="recognition-wrapper">
                    <div class="recognition-controls">
                        <video id="recognitionVideo" autoplay muted playsinline class="recognition-video"></video>
                        <canvas id="recognitionCanvas" width="640" height="480" style="display:none;"></canvas>
                        <div class="recognition-buttons">
                            <button id="startCameraBtn" class="btn-primary">开启摄像头</button>
                            <button id="capturePhotoBtn" class="btn-secondary">拍摄并识别</button>
                        </div>
                        <div class="recognition-divider">或</div>
                        <label class="file-upload">
                            <span>上传图片</span>
                            <input type="file" id="recognitionFileInput" accept="image/*">
                        </label>
                        <button id="uploadRecognizeBtn" class="btn-primary">上传并识别</button>
                        <div id="recognitionStatus" class="recognition-status"></div>
                    </div>
                    <div class="recognition-results" id="recognitionResults">
                        <p class="recognition-placeholder">尚未进行识别。请拍照或上传图片后查看结果。</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 登录模态框 -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>用户登录</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">邮箱地址:</label>
                    <input type="email" id="loginEmail" value="test@example.com" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">密码:</label>
                    <input type="password" id="loginPassword" value="admin123" required>
                </div>
                <button type="submit">登录</button>
            </form>
            <p>还没有账户？<a href="#" id="showRegister">立即注册</a></p>
            <p><a href="#" id="showForgotPassword">忘记密码？</a></p>
        </div>
    </div>

    <!-- 忘记密码模态框 -->
    <div id="forgotPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>找回密码</h2>
            <form id="forgotPasswordForm">
                <div class="form-group">
                    <label for="forgotPasswordEmail">邮箱地址:</label>
                    <input type="email" id="forgotPasswordEmail" required>
                    <small style="color: #666; display: block; margin-top: 5px;">我们将向您的邮箱发送一个6位验证码</small>
                </div>
                <button type="submit">发送验证码</button>
                <div id="forgotPasswordStatus" style="margin-top: 10px; padding: 10px; display: none; border-radius: 4px;"></div>
            </form>
            <p><a href="#" id="showLoginFromForgot">返回登录</a></p>
        </div>
    </div>

    <!-- 重置密码模态框 -->
    <div id="resetPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>重置密码</h2>
            <form id="resetPasswordForm">
                <input type="hidden" id="resetPasswordEmail">
                <div class="form-group">
                    <label for="resetPasswordCode">验证码:</label>
                    <input type="text" id="resetPasswordCode" maxlength="6" pattern="[0-9]{6}" placeholder="请输入6位验证码" required>
                    <small style="color: #666; display: block; margin-top: 5px;">请输入发送到您邮箱的6位验证码</small>
                </div>
                <div class="form-group">
                    <label for="resetPasswordNew">新密码:</label>
                    <input type="password" id="resetPasswordNew" required>
                    <small style="color: #666; display: block; margin-top: 5px;">密码至少8位，包含字母和数字</small>
                </div>
                <div class="form-group">
                    <label for="resetPasswordConfirm">确认新密码:</label>
                    <input type="password" id="resetPasswordConfirm" required>
                </div>
                <button type="submit">重置密码</button>
                <div id="resetPasswordStatus" style="margin-top: 10px; padding: 10px; display: none; border-radius: 4px;"></div>
            </form>
            <p><a href="#" id="showForgotFromReset">重新发送验证码</a></p>
        </div>
    </div>

    <!-- 注册模态框 -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>用户注册</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerName">姓名:</label>
                    <input type="text" id="registerName" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">邮箱地址:</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">密码:</label>
                    <input type="password" id="registerPassword" required>
                </div>
                <div class="form-group">
                    <label for="registerConfirmPassword">确认密码:</label>
                    <input type="password" id="registerConfirmPassword" required>
                </div>
                <button type="submit">注册</button>
            </form>
            <p>已有账户？<a href="#" id="showLogin">立即登录</a></p>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 流浪猫公益项目. 保留所有权利.</p>
        </div>
    </footer>

    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
</body>
</html>